 ; Borrowed from
 ; https://github.com/protodomemusic/mmml/blob/master/player-desktop/mmml-engine.c

.macro pcm b1, brest:vararg
    b = \b1
    ; Reverse bits
    b = (b & 0xF0) >> 4 | (b & 0x0F) << 4
    b = (b & 0xCC) >> 2 | (b & 0x33) << 2
    b = (b & 0xAA) >> 1 | (b & 0x55) << 1
    ; Duplicate bits
    i = 0
    z = 0
    .rept 8
        z = z | (b & 1<<i)<<i | (b & 1<<i)<<(i+1)
        i = i + 1
    .endr
    .word z
    .ifnb \brest
        pcm \brest
    .endif
.endm

 .data
 pcm_table:
	; bwoop (0)
	.byte 0b10101010,0b10110110,0b10000111,0b11111000
	.byte 0b10000100,0b00110111,0b11101000,0b11000001
	.byte 0b00000111,0b00111101,0b11111000,0b11100000
	.byte 0b10010001,0b10000111,0b00000111,0b00001111
	.byte 0b00001111,0b00011011,0b00011110
	; beep (19)
	.byte 0b10101010,0b00101010,0b00110011,0b00110011
	.byte 0b00110011,0b00110011,0b00110011,0b11001101
	.byte 0b11001100,0b11001100,0b11001100,0b10101100
	.byte 0b10011001,0b00110001,0b00110011
	; kick (34)
	.byte 0b10010101,0b10110010,0b00000000,0b11100011
	.byte 0b11110000,0b00000000,0b11111111,0b00000000
	.byte 0b11111110,0b00000000,0b00000000,0b00000000
	.byte 0b11111111,0b11111111,0b11111111,0b00100101
	.byte 0b00000000,0b00000000,0b00000000,0b00000000
	.byte 0b11111111,0b11110111,0b11111111,0b11111111
	.byte 0b11111111,0b10111111,0b00010010,0b00000000
	.byte 0b10000000,0b00000000,0b00000000,0b00000000
	.byte 0b00000000,0b11101110,0b11111111,0b11111111
	.byte 0b11111111,0b11110111,0b11111111,0b11111110
	; snare (74)
	.byte 0b10011010,0b10011010,0b10101010,0b10010110
	.byte 0b01110100,0b10010101,0b10001010,0b11011110
	.byte 0b01110100,0b10100000,0b11110111,0b00100101
	.byte 0b01110100,0b01101000,0b11111111,0b01011011
	.byte 0b01000001,0b10000000,0b11010100,0b11111101
	.byte 0b11011110,0b00010010,0b00000100,0b00100100
	.byte 0b11101101,0b11111011,0b01011011,0b00100101
	.byte 0b00000100,0b10010001,0b01101010,0b11011111
	.byte 0b01110111,0b00010101,0b00000010,0b00100010
	.byte 0b11010101,0b01111010,0b11101111,0b10110110
	.byte 0b00100100,0b10000100,0b10100100,0b11011010
	; hi-hat (118)
	.byte 0b10011010,0b01110100,0b11010100,0b00110011
	.byte 0b00110011,0b11101000,0b11101000,0b01010101
	.byte 0b01010101

.data
.global pcm_3bit_table
pcm_3bit_table:
kick_pcm_start:
#include "kick.inc"
kick_pcm_end:

.data
.global volume_table
volume_table:
	.byte 0b00000000
	.byte 0b10000000
	.byte 0b10001000
	.byte 0b10010010
	.byte 0b01101101
	.byte 0b01110111
	.byte 0b01111111
	.byte 0b11111111